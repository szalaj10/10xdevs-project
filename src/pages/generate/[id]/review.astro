---
import Layout from "../../../layouts/Layout.astro";
import ReviewCandidatesPage from "../../../components/ReviewCandidatesPage";

// Server-side authentication guard
const { user } = Astro.locals;

if (!user) {
  return Astro.redirect("/login");
}

const { id } = Astro.params;

if (!id) {
  return Astro.redirect("/generate/new");
}
---

<Layout title="Recenzja kandydatÃ³w - Fiszki AI">
  <ReviewCandidatesPage generationId={id} client:load />
</Layout>
